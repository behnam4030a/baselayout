/* ===================================================
   ADMIN LAYOUT - FrontLayer Portal V.3
   Font: Vazirmatn (Persian, RTL)
   Design Tokens from Figma: w9YIC2lcukSl2dQMuwEKVT
   =================================================== */

/* === GOOGLE FONT IMPORT === */

/* === DESIGN TOKENS === */
:root {
  /* --- Semantic aliases (point to colors.css palette) --- */
  --brand:               var(--brand-400);
  --brand-light:         rgba(63, 194, 166, 0.15);
  --brand-stroke:        var(--brand-400);

  --sidebar-bg:          var(--neutral-880);
  --sidebar-bg-2:        var(--neutral-840);
  --sidebar-text:        var(--neutral-180);
  --sidebar-text-active: var(--neutral-0);

  --page-bg:             var(--neutral-20);
  --card-bg:             var(--neutral-0);

  --text-1:              var(--neutral-880);
  --text-2:              var(--neutral-660);
  --stroke:              var(--neutral-100);

  --radius-card:     8px;
  --radius-btn:      8px;
  --radius-full:     360px;

  --sidebar-w:       280px;
  --sidebar-mini-w:  93px;
  --sidebar-gap:     16px;
  --header-h:        92px;
  --bottom-nav-h:    80px;
  --mobile-header-h: 64px;

  /* Dynamic: updated by JS on sidebar toggle */
  --current-sidebar-w: 280px;

  --transition:      300ms ease-in-out;
  --shadow-card:     0 2px 12px rgba(0,0,0,0.07);
  --shadow-drawer:   -3px 0 16px rgba(0,0,0,0.12);

  /* === MODAL COMPONENT OVERRIDES ===
     Only values that intentionally differ from colors.css */

  /* Neutral overrides */
  --neutral-140:     #cfd0d2;
  --neutral-360:     #9b9c9d;

  /* Brand overrides */
  --brand-600:       #1d8872;
  --brand-5:         rgba(38, 168, 140, 0.05);
  --brand-10:        rgba(38, 168, 140, 0.10);
}

/* === RESET & BASE === */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { font-size: 14px; }

body {
  direction: rtl;
  font-family: 'Peyda(FaNum)', sans-serif;
  background: var(--page-bg);
  color: var(--text-1);
  min-height: 100vh;
  overflow-x: hidden;
}

a { color: inherit; text-decoration: none; }
button { font-family: inherit; cursor: pointer; border: none; background: none; }
ul { list-style: none; }
img { display: block; max-width: 100%; }

/* === SCROLLBAR === */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.15); border-radius: 2px; }

/* ===================================================
   DESKTOP LAYOUT SHELL
   =================================================== */
.app-layout {
  display: flex;
  flex-direction: row; /* RTL: sidebar goes right naturally */
  min-height: 100vh;
  padding: var(--sidebar-gap);
  gap: var(--sidebar-gap);
}

/* ===================================================
   SIDEBAR SLOT (flex child that reserves space in layout)
   =================================================== */
.sidebar-slot {
  flex-shrink: 0;
  width: var(--sidebar-w);
  transition: width var(--transition);
}
.sidebar-slot.mini {
  width: var(--sidebar-mini-w);
}

/* ===================================================
   SIDEBAR
   =================================================== */
.sidebar {
  width: var(--sidebar-w);
  flex-shrink: 0;
  background: var(--sidebar-bg);
  border-radius: var(--radius-card);
  position: sticky;
  top: var(--sidebar-gap);
  height: calc(100vh - calc(var(--sidebar-gap) * 2));
  display: flex;
  flex-direction: column;
  gap: var(--sidebar-gap);
  padding: var(--sidebar-gap);
  overflow: visible; /* Allow toggle button to protrude from sidebar edge in mini mode */
  transition: width var(--transition);
  /* Sidebar stays ABOVE the desktop backdrop */
  z-index: 700;
}

.sidebar.mini { width: var(--sidebar-mini-w); justify-content: center; }

/* ===================================================
   SIDEBAR PEEK (hover-expand overlay in mini mode)
   Sidebar flies over content without pushing it
   =================================================== */
.sidebar.mini.peek {
  position: fixed;
  right: var(--sidebar-gap);
  top: var(--sidebar-gap);
  height: calc(100vh - calc(var(--sidebar-gap) * 2));
  width: var(--sidebar-w);
  z-index: 700;
  justify-content: flex-start;
  box-shadow: -8px 0 32px rgba(0,0,0,0.35);
}

/* Restore full nav appearance in peek */
.sidebar.mini.peek .nav-text        { opacity: 1; max-width: 160px; }
.sidebar.mini.peek .nav-item        { padding: 0 12px; justify-content: space-between; gap: 12px; min-width: unset; }
.sidebar.mini.peek .nav-item-inner  { flex: 1; justify-content: flex-start; gap: 12px; position: static; }
.sidebar.mini.peek .nav-chevron     { opacity: 1; width: 16px; }
.sidebar.mini.peek .nav-badge       { position: static; opacity: 1; max-width: none; padding: 0 3px; min-width: 17px; height: 17px; font-size: 11px; overflow: visible; }
.sidebar.mini.peek .sidebar-brand   { width: auto; overflow: visible; }
.sidebar.mini.peek .sidebar-top     { justify-content: flex-start; }
.sidebar.mini.peek .subscription-card {
  justify-content: flex-start;
  gap: 8px;
  background: rgba(255,255,255,0.05);
  padding: 12px;
}
.sidebar.mini.peek .subscription-icon {
  background: transparent;
  border-radius: 0;
  padding: 0;
}
.sidebar.mini.peek .subscription-info { flex: 1; max-width: none; overflow: visible; opacity: 1; height: auto; }

/* Toggle: back to normal position, arrow still outward (rotate 180deg) */
.sidebar.mini.peek .sidebar-toggle {
  left: var(--sidebar-gap);
  top: var(--sidebar-gap);
  transform: rotate(180deg);
}

/* BG topographic pattern */
.sidebar-pattern {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  border-radius: var(--radius-card);
}
.sidebar-pattern::before {
  content: '';
  position: absolute;
  /* Image intrinsic size from Figma: 3584×2600px */
  width: 3585px;
  height: 2601px;
  background-image: url('../assets/images/sidebar-pattern.svg');
  background-size: 100% 100%;
  background-repeat: no-repeat;
  opacity: 0.06;
  /* Figma: image center at (50%+1187.24px, 50%+177.19px) of 280×868 container */
  /* top-left = center - half-size: x: 50%+1187.24-1792.24 = 50%-605, y: 50%+177.19-1300.06 = 50%-1123 */
  left: calc(50% - 605px);
  top: calc(50% - 1123px);
  /* Figma: rotate(180deg) + scaleY(-1) = scaleX(-1) (horizontal flip) */
  transform: scaleX(-1);
}

/* --- Sidebar Top: Logo area (toggle is absolute-positioned, outside of flow) --- */
.sidebar-top {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* RTL: flex-start = items at physical right (visual start) */
  flex-shrink: 0;
  min-height: 40px; /* Reserve space matching brand logo height */
}

.sidebar-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  background: var(--sidebar-bg-2);
  border-radius: var(--radius-full);
  color: var(--sidebar-text);
  flex-shrink: 0;
  /* Absolute so it can slide outside sidebar in mini mode */
  position: absolute;
  left: var(--sidebar-gap);
  top: var(--sidebar-gap);
  z-index: 1;
  transition: color var(--transition), background var(--transition),
              left var(--transition), top var(--transition);
}
.sidebar-toggle:hover { color: #fff; }

.sidebar-brand {
  display: flex;
  align-items: center;
  overflow: hidden;
  transition: width var(--transition);
}

.brand-logo-img {
  height: 40px;
  width: auto;
  max-width: 126px;
  object-fit: contain;
  flex-shrink: 0;
  transition: opacity var(--transition), max-width var(--transition);
}

/* Mini: show only the icon portion of the logo (rightmost 40px in RTL) */
.sidebar.mini .sidebar-brand { overflow: hidden; width: 46px; }
.sidebar.mini .brand-logo-img { opacity: 1; max-width: none; }
.sidebar.mini .sidebar-top { justify-content: center; }

/* Mini: toggle slides outside sidebar to the left */
.sidebar.mini .sidebar-toggle {
    left: calc(-1 * (3px + 8px));
    top: 56px;
    transform: rotate(180deg);
    transition: all 0.3s;
}
/* --- Divider --- */
.sidebar-divider {
  height: 1px;
  background: rgba(255,255,255,0.08);
  flex-shrink: 0;
  margin: 0 calc(-1 * var(--sidebar-gap));
}

/* --- Menu container --- */
.sidebar-menu {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--sidebar-gap);
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: thin;
  padding: 0 8px;
}
.sidebar-menu-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.sidebar-spacer { flex: 1; }
/* --- Nav Item --- */
.nav-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 45px;
  padding: 0 12px;
  border-radius: var(--radius-card);
  color: var(--sidebar-text);
  cursor: pointer;
  transition: background var(--transition), color var(--transition);
  gap: 12px;
  user-select: none;
  white-space: nowrap;
  overflow: hidden;
  position: relative;
  text-decoration: none;
}

.nav-item:hover { background: rgba(255,255,255,0.05); color: #fff; }

.nav-item.active {
  background: var(--brand-light);
  color: #fff;
  border-right: 2px solid var(--brand);
  backdrop-filter: blur(1px);
  box-shadow: 1px 2px 10px rgba(0,0,0,0.15);
}

/* icon + text (icon rightmost in RTL) */
.nav-item-inner {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 0;
  justify-content: flex-start; /* RTL: flex-start = visual RIGHT side */
}

.nav-icon {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: inherit;
}

.nav-text {
  font-size: 14px;
  font-weight: 500;
  line-height: 1.5;
  white-space: nowrap;
  transition: opacity var(--transition), max-width var(--transition);
  max-width: 160px;
  overflow: hidden;
}

.sidebar.mini .nav-text { opacity: 0; max-width: 0; }

/* Mini mode: center icon — remove padding AND gap so nothing displaces the icon */
.sidebar.mini .nav-item {
  padding: 0;
  justify-content: center;
  gap: 0;
  min-width: 45px;
}
.sidebar.mini .nav-item-inner {
  flex: 0 0 auto;
  justify-content: center;
  gap: 0;
  position: relative;
}

/* Chevron (arrow for submenu) */
.nav-chevron {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  color: var(--sidebar-text);
  transition: transform var(--transition), opacity var(--transition);
}
.sidebar.mini .nav-chevron { opacity: 0; width: 0; }

/* Badge inside nav item */
.nav-badge {
  background: var(--brand);
  color: #fff;
  font-size: 11px;
  font-weight: 500;
  min-width: 17px;
  height: 17px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 3px;
  flex-shrink: 0;
  transition: opacity var(--transition);
}
.sidebar.mini .nav-badge {
  position: absolute;
  top: -5px;
  right: -5px;
  opacity: 1;
  max-width: none;
  overflow: visible;
  padding: 0 2px;
  min-width: 14px;
  height: 14px;
  font-size: 9px;
  border-radius: 50%;
}

/* --- Subscription Card --- */
.subscription-card {
  background: rgba(255,255,255,0.05);
  border-radius: var(--radius-btn);
  padding: 12px;
  display: flex;
  align-items: center;
  justify-content: flex-start; /* RTL: flex-start = visual RIGHT → icon sits on right side */
  gap: 8px;
  overflow: hidden;
  transition: opacity var(--transition);
}
/* Mini mode: show card with only icon centered */
.sidebar.mini .subscription-card {
  justify-content: center;
  gap: 0;
  background: transparent;
  padding: 0;
}
.sidebar.mini .subscription-icon {
  background: rgba(255,255,255,0.05);
  border-radius: var(--radius-btn);
  padding: 12px 12px 6px 12px;
}
.sidebar.mini .subscription-info {
  flex: 0;
  max-width: 0;
  overflow: hidden;
  opacity: 0;
  /* Closing: fade out first, then collapse width so the snap is invisible */
  transition: opacity 250ms ease-in-out,
              max-width 0ms linear 250ms,
              flex      0ms linear 250ms;
}

.subscription-icon { color: #fff; flex-shrink: 0; }

.subscription-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* RTL column: flex-start = inline-start = RIGHT side */
  gap: 4px;
  min-width: 0;
}
/* Opening: dimensions snap instantly (invisible at that point), only opacity fades in.
   Higher specificity (.sidebar .x = 0,2,0) overrides global .sidebar * (0,1,1) */
.sidebar .subscription-info {
  transition: opacity 250ms ease-in-out;
}

.subscription-label {
  color: var(--sidebar-text);
  font-size: 12px;
  font-weight: 400;
  white-space: nowrap;
}

.subscription-details {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #fff;
  white-space: nowrap;
}

.subscription-plan { font-size: 14px; font-weight: 500; }
.subscription-sep { font-size: 12px; opacity: 0.5; }
.subscription-days { font-size: 12px; font-weight: 400; }

/* ===================================================
   MAIN WRAPPER (Header + Content)
   =================================================== */
.main-wrapper {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: relative;
}

/* ===================================================
   TOP HEADER (Desktop)
   =================================================== */
.top-header {
  background: var(--card-bg);
  border-radius: var(--radius-card);
  height: var(--header-h);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 24px;
  flex-shrink: 0;
  position: relative;
  box-shadow: var(--shadow-card);
}

/* Green accent bar on the right */
.header-accent {
  position: absolute;
  right: 0;
  top: 16.5px;
  bottom: 16.5px;
  width: 3px;
  background: var(--brand);
  border-radius: 25px 0 0 25px;
}

/* --- Header Right: Title + Breadcrumb --- */
.header-right {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.page-title {
  font-size: 22px;
  font-weight: 600;
  color: var(--text-1);
  line-height: 1.3;
}

.breadcrumb {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: var(--text-2);
  direction: rtl;
}

.breadcrumb a {
  color: var(--text-1);
  font-weight: 500;
  font-size: 12px;
  padding: 2px 8px;
  border-radius: var(--radius-btn);
  transition: background var(--transition);
}
.breadcrumb a:hover { background: var(--page-bg); }

.breadcrumb-sep { color: var(--text-2); font-size: 13px; }

/* --- Header Left: User + Wallet + Actions --- */
.header-left {
  display: flex;
  align-items: center;
  gap: 16px;
}

/* User block */
.header-user {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  padding: 4px 8px 4px 4px;
  border-radius: var(--radius-full);
  transition: background var(--transition);
}
.header-user:hover { background: var(--page-bg); }

.user-avatar-wrapper {
  position: relative;
  flex-shrink: 0;
}

.user-avatar {
  width: 45px;
  height: 45px;
  border-radius: var(--radius-full);
  border: 1.5px solid var(--brand);
  overflow: hidden;
  background: #e0f4ef;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--brand);
  padding: 2px;
}
.user-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%;}
.user-avatar--inactive {
  width: 41px;
  height: 41px;
  border-color: var(--stroke);
  background: var(--page-bg);
  color: var(--text-2);
  font-size: 15px;
  font-weight: 500;
}

.user-avatar-verified {
  position: absolute;
  top: -3px;
  right: -3px;
  width: 20px;
  height: 20px;
  border-radius: var(--radius-full);
  background: var(--brand);
  border: 2px solid var(--card-bg);
  display: flex;
  align-items: center;
  justify-content: center;
}

.user-info {
  display: flex;
  flex-direction: column;
  gap: 1px;
}
.user-name { font-size: 15px; font-weight: 500; color: var(--text-1); line-height: 1.5; }
.user-role { font-size: 12px; color: var(--text-2); line-height: 1.5; }

.header-chevron { color: var(--text-2); }

/* Wallet block */
.header-wallet {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-direction: row-reverse;
}
.wallet-info {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2px;
}
.wallet-label { font-size: 15px; font-weight: 500; color: var(--text-1); }
.wallet-amount {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: var(--text-2);
}
.wallet-amount .toman { font-size: 11px; }

.wallet-charge-btn {
  width: 45px;
  height: 45px;
  background: var(--page-bg);
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-1);
  transition: background var(--transition);
  flex-shrink: 0;
  position: relative;
}
.wallet-charge-btn:hover { background: var(--neutral-80); }
.wallet-charge-wrap { position: relative; }

.wallet-charge-badge {
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  border-radius: var(--radius-full);
  background: var(--page-bg);
  border: 1px solid var(--stroke);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Header divider */
.header-divider {
  width: 1px;
  height: 25px;
  background: var(--stroke);
  flex-shrink: 0;
}

/* Icon button (notif, search) */
.header-icon-btn {
  width: 45px;
  height: 45px;
  background: var(--page-bg);
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-1);
  transition: background var(--transition);
  position: relative;
  flex-shrink: 0;
}
.header-icon-btn:hover { background: var(--neutral-80); }

.notif-badge-count {
  position: absolute;
  top: -5px;
  right: -5px;
  min-width: 20px;
  height: 20px;
  border-radius: var(--radius-full);
  background: var(--sidebar-bg);
  color: #fff;
  font-size: 11px;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
}

/* ===================================================
   PROFILE PANEL (single element — desktop dropdown + mobile full-screen)
   =================================================== */
.mobile-profile-sheet {
  position: fixed;
  display: flex;
  flex-direction: column;
  top: calc(var(--header-h) + 8px);
  left: 16px;
  right: auto;
  width: 280px;
  bottom: auto;
  max-height: 520px;
  overflow-y: auto;
  background: var(--card-bg);
  border-radius: var(--radius-card);
  box-shadow: 0 4px 20px rgba(0,0,0,0.12);
  z-index: 400;
  opacity: 0;
  transform: translateY(-8px);
  pointer-events: none;
  transition: transform var(--transition), opacity var(--transition);
}
.mobile-profile-sheet.open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}
/* Mobile-only elements hidden on desktop */
.mobile-profile-appbar {
  display: none;
  background: var(--card-bg);
  align-items: center;
  justify-content: space-between;
  padding: 40px 24px 16px;
  flex-shrink: 0;
  border-bottom: 1px solid var(--stroke);
  box-shadow: var(--shadow-card);
}
.mobile-profile-appbar-spacer { width: 23px; }
.mobile-profile-appbar-title {
  font-size: 18px;
  font-weight: 500;
  color: var(--text-1);
  text-align: center;
  flex: 1;
}

.mobile-profile-content {
  flex: 1;
  overflow-y: auto;
  padding: 8px 16px 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.mobile-profile-user-card {
  background: var(--card-bg);
  border-radius: var(--radius-card);
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.mobile-profile-user-info {
  display: flex;
  align-items: center;
  gap: 8px;
}
.mobile-profile-user-texts {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.mobile-profile-user-name { font-size: 16px; font-weight: 500; color: var(--text-1); }
.mobile-profile-user-role { font-size: 12px; color: var(--text-2); }

.mobile-profile-edit-link {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: var(--brand);
  line-height: 2;
}

.mobile-profile-status-grid {
  display: none;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.mobile-status-card {
  background: var(--card-bg);
  border-radius: var(--radius-card);
  padding: 8px 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  color: var(--text-2);
}
.mobile-status-card-label { font-size: 12px; color: var(--sidebar-text); text-align: right; }
.mobile-status-card-body {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}
.mobile-status-card-value { font-size: 18px; font-weight: 500; color: var(--text-1); text-align: right; line-height: 1.3; }
.mobile-status-card-sub { font-size: 12px; color: var(--text-2); text-align: right; }
.mobile-status-card-amount { display: flex; align-items: center; gap: 4px; }
.mobile-status-card-toman { font-size: 12px; color: var(--text-2); }
.mobile-status-card-divider { width: 100%; height: 8px; border-top: 1px solid var(--stroke); }
.mobile-status-card-action {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: var(--brand);
  line-height: 2;
}
.mobile-profile-section-title {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-direction: row-reverse;
  padding: 12px 0 4px;
  font-size: 13px;
  color: var(--text-2);
}
.mobile-profile-section-line { flex: 1; height: 1px; background: var(--stroke); }

.mobile-profile-accounts {
  background: var(--card-bg);
  border-radius: var(--radius-card);
  padding: 16px 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.mobile-profile-account-row {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 8px;
  padding: 0 8px;
  cursor: pointer;
}
.mobile-profile-account-row.is-active { position: relative; }
.mobile-profile-account-check {
    width: 28px;
    height: 28px;
    border-radius: var(--radius-card);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    position: absolute;
    overflow: hidden;
    left: 10px;
}
.mobile-profile-account-check-inner {
  width: 18px;
  height: 18px;
  border-radius: var(--radius-full);
  background: var(--brand);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.mobile-profile-account-details {
  display: flex;
  flex-direction: column;
  gap: 1px;
}
.mobile-profile-account-name { font-size: 14px; font-weight: 500; color: var(--text-1); }
.mobile-profile-account-role { font-size: 12px; color: var(--text-2); }

.mobile-profile-account-divider { height: 1px; background: var(--stroke); margin: 0 8px; }
.mobile-profile-add-icon {
  width: 41px;
  height: 41px;
  border-radius: var(--radius-full);
  border: 1px solid var(--stroke);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--text-1);
}
.mobile-profile-add-account {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 8px;
    padding: 0 8px;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-1);
    cursor: pointer;
    flex-direction: row-reverse;
}

.mobile-profile-logout-card {
  background: var(--card-bg);
  border-radius: var(--radius-card);
  padding: 8px;
}
.mobile-profile-logout-btn {
  display: flex;
  flex-direction: row-reverse;
  align-items: center;
  gap: 8px;
  width: 100%;
  height: 45px;
  padding: 0 8px;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-1);
  border-radius: var(--radius-full);
  transition: background var(--transition);
  justify-content: flex-end;
}
.mobile-profile-logout-btn:hover { background: var(--page-bg); }

/* ===================================================
   DESKTOP USER DROPDOWN POPUP
   =================================================== */
.user-dropdown-popup {
  position: fixed;
  top: calc(var(--header-h) + 20px);
  left: 16px;
  width: 250px;
  background: var(--card-bg);
  border-radius: var(--radius-card);
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
  z-index: 400;
  opacity: 0;
  transform: translateY(-8px);
  pointer-events: none;
  transition: transform var(--transition), opacity var(--transition);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding-bottom: 16px;
}
.user-dropdown-popup.open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}
/* Override avatar size inside dropdown */
.user-dropdown-popup .user-avatar {
  width: 41px;
  height: 41px;
  flex-shrink: 0;
}
.user-dropdown-box {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding-top: 16px;
}
.user-dropdown-section-title {
  padding: 0 24px 8px;
  font-size: 13px;
  color: var(--text-2);
  text-align: right;
}
.user-dropdown-account {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 24px;
  cursor: pointer;
  transition: background var(--transition);
}
.user-dropdown-account:hover { background: var(--page-bg); }
/* Active row: permanent bg + space-between for checkmark */
.user-dropdown-account.is-active {
  background: var(--page-bg);
  justify-content: space-between;
}
.user-dropdown-account.is-active:hover { background: var(--page-bg); }
/* Active checkmark badge */
.user-dropdown-check {
  width: 28px;
  height: 28px;
  border-radius: var(--radius-card);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.user-dropdown-check-inner {
  width: 18px;
  height: 18px;
  border-radius: var(--radius-full);
  background: var(--brand);
  display: flex;
  align-items: center;
  justify-content: center;
}
.user-dropdown-account-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
  min-width: 0;
}
.user-dropdown-account-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-1);
  text-align: right;
}
.user-dropdown-account-role {
  font-size: 12px;
  color: var(--text-2);
  text-align: right;
}
.user-dropdown-add-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 24px;
  height: 45px;
  cursor: pointer;
  transition: background var(--transition);
}
.user-dropdown-add-row:hover { background: var(--page-bg); }
.user-dropdown-add-label {
  flex: 1;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-1);
  text-align: right;
}
.user-dropdown-add-icon {
  width: 41px;
  height: 41px;
  border-radius: var(--radius-full);
  border: 1px solid var(--stroke);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--text-1);
}
/* Dividers: horizontal margin on both sides */
.user-dropdown-divider {
  height: 1px;
  background: var(--stroke);
  margin: 8px 16px;
}
/* Actions: hover on full-width wrapper */
.user-dropdown-actions {
  cursor: pointer;
  transition: background var(--transition);
}
.user-dropdown-actions:hover { background: var(--page-bg); }
.user-dropdown-action-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  height: 45px;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-1);
  padding: 0 24px;
  cursor: pointer;
}

/* Mobile: hide desktop dropdown */
@media (max-width: 1023px) {
  .user-dropdown-popup { display: none; }
}

/* ===================================================
   PAGE CONTENT
   =================================================== */
.page-content {
  flex: 1;
  border-radius: var(--radius-card);
  min-height: 400px;
  box-shadow: var(--shadow-card);
}

.page-content-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 300px;
  color: var(--text-2);
  font-size: 15px;
  border: 2px dashed var(--stroke);
  border-radius: var(--radius-card);
}

/* ===================================================
   SUB-DRAWER (Desktop submenu panel)
   =================================================== */
.sub-drawer {
  position: fixed;
  top: calc(var(--sidebar-gap) + 10px);
  right: calc(var(--current-sidebar-w) + var(--sidebar-gap));
  height: calc(100vh - calc(var(--sidebar-gap) * 2) - 20px);
  width: 290px;
  background: var(--card-bg);
  border-radius: var(--radius-card) 0 0 var(--radius-card);
  box-shadow: var(--shadow-drawer);
  z-index: 300;
  display: flex;
  flex-direction: column;
  transform: translateX(calc(100% + var(--current-sidebar-w) + var(--sidebar-gap)));
  opacity: 0;
  transition: transform var(--transition), opacity var(--transition), right var(--transition);
  overflow: hidden;
  pointer-events: none;
}

.sub-drawer.open {
  transform: translateX(0);
  opacity: 1;
  pointer-events: all;
}

.sub-drawer-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid var(--stroke);
  flex-shrink: 0;
}

.sub-drawer-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-1);
}

.sub-drawer-close {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-2);
  transition: background var(--transition), color var(--transition);
}
.sub-drawer-close:hover { background: var(--page-bg); color: var(--text-1); }

.sub-drawer-items {
  flex: 1;
  overflow-y: auto;
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.sub-drawer-item {
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
    gap: 12px;
    padding: 12px;
    border-radius: var(--radius-card);
    cursor: pointer;
    transition: background var(--transition);
    text-decoration: none;
    color: inherit;
}
.sub-drawer-item:hover { background: var(--page-bg); }

.sub-drawer-item-icon {
  width: 38px;
  height: 38px;
  border-radius: var(--radius-btn);
  background: var(--page-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-2);
  flex-shrink: 0;
}

.sub-drawer-item-info {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.sub-drawer-item-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-1);
}
.sub-drawer-item-desc {
  font-size: 12px;
  color: var(--text-2);
  line-height: 1.5;
  text-align: right;
}

/* ===================================================
   BACKDROP (Desktop)
   =================================================== */
.backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  /* Below subdrawer (300) and sidebar (400) */
  z-index: 200;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition);
}
.backdrop.show {
  opacity: 1;
  pointer-events: all;
}

/* ===================================================
   MOBILE BOTTOM NAV
   =================================================== */
.bottom-nav {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--bottom-nav-h);
  background: var(--sidebar-bg);
  z-index: 9999;
  align-items: flex-start;
  justify-content: space-around;
  padding: 14px 16px 0;
}

.bottom-nav-pattern {
  position: absolute;
  inset: 0;
  opacity: 0.06;
  pointer-events: none;
  background-image: repeating-radial-gradient(ellipse at 50% 80%,
    transparent 0px, transparent 20px,
    rgba(255,255,255,0.3) 21px, transparent 22px
  );
}

.bottom-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  color: var(--sidebar-text);
  padding: 0 8px;
  position: relative;
  transition: color var(--transition);
  min-width: 45px;
}
.bottom-nav-item.active { color: #fff; }

.bottom-nav-icon {
  width: 20px;
  height: 20px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}
.bottom-nav-icon svg {
  width: 100%;
  height: 100%;
}

.bottom-nav-badge {
  position: absolute;
  top: -2px;
  right: -3px;
  min-width: 13px;
  height: 13px;
  border-radius: var(--radius-full);
  background: var(--brand);
  color: #fff;
  font-size: 9px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 2px;
}

.bottom-nav-label {
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
}
.bottom-nav-item.active .bottom-nav-label {
  font-weight: 700;
}

/* ===================================================
   MOBILE BACKDROP
   =================================================== */
.mobile-backdrop {
  display: none;
  position: fixed;
  inset: 0;
  bottom: var(--bottom-nav-h);
  z-index: 500;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition);
}
.mobile-backdrop.show {
  opacity: 1;
  pointer-events: all;
}

/* ===================================================
   MOBILE MAIN DRAWER
   =================================================== */
.mobile-drawer {
    display: none;
    position: fixed;
    top: 0;
    border-bottom: 2px solid #fff;
    height: calc(100% - 80px);
    right: 0;
    width: 100%;
    background: var(--sidebar-bg);
    z-index: 600;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform var(--transition);
    overflow: auto;
}

.mobile-drawer.open { transform: translateX(0); }

.mobile-drawer-pattern {
  position: absolute;
  inset: 0;
  opacity: 0.06;
  pointer-events: none;
  background-image:
    repeating-radial-gradient(ellipse at 80% 40%,
      transparent 0px, transparent 28px,
      rgba(255,255,255,0.25) 29px, transparent 30px
    );
}

/* Drawer header */
.mobile-drawer-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 20px 16px;
  flex-shrink: 0;
  position: relative;
  z-index: 1;
}

.mobile-drawer-back {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--sidebar-text-active);
  font-size: 14px;
  font-weight: 400;
}
.mobile-drawer-back svg { width: 18px; height: 18px; }

.mobile-drawer-brand {
  display: flex;
  align-items: center;
}
.mobile-drawer-brand-img {
  height: 36px;
  width: auto;
  max-width: 116px;
  object-fit: contain;
}
.mobile-drawer-brand-name {
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  line-height: 1.3;
}
.mobile-drawer-brand-sub { color: var(--sidebar-text); font-size: 9px; }
.icon-pishkhan::before { 
  content:url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.53998 13.9583C3.87349 13.9583 3.33331 14.4985 3.33331 15.165V15.6683C3.33331 16.3348 3.87349 16.875 4.53998 16.875H6.70998C7.37647 16.875 7.91665 16.3348 7.91665 15.6683V15.165C7.91665 14.4985 7.37647 13.9583 6.70998 13.9583H4.53998ZM2.08331 15.165C2.08331 13.8081 3.18314 12.7083 4.53998 12.7083H6.70998C8.06682 12.7083 9.16665 13.8081 9.16665 15.165V15.6683C9.16665 17.0251 8.06682 18.125 6.70998 18.125H4.53998C3.18314 18.125 2.08331 17.0251 2.08331 15.6683V15.165Z' fill='%23CFD0D2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.53998 3.125C3.87349 3.125 3.33331 3.66517 3.33331 4.33167V8.16833C3.33331 8.83483 3.87349 9.375 4.53998 9.375H6.70998C7.37647 9.375 7.91665 8.83483 7.91665 8.16833V4.33167C7.91665 3.66517 7.37647 3.125 6.70998 3.125H4.53998ZM2.08331 4.33167C2.08331 2.97483 3.18314 1.875 4.53998 1.875H6.70998C8.06682 1.875 9.16665 2.97483 9.16665 4.33167V8.16833C9.16665 9.52517 8.06682 10.625 6.70998 10.625H4.53998C3.18314 10.625 2.08331 9.52517 2.08331 8.16833V4.33167Z' fill='%23CFD0D2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.7067 3.125C13.0402 3.125 12.5 3.66517 12.5 4.33167V15.6683C12.5 16.3348 13.0402 16.875 13.7067 16.875H15.8767C16.5432 16.875 17.0833 16.3348 17.0833 15.6683V4.33167C17.0833 3.66517 16.5432 3.125 15.8767 3.125H13.7067ZM11.25 4.33167C11.25 2.97483 12.3498 1.875 13.7067 1.875H15.8767C17.2335 1.875 18.3333 2.97483 18.3333 4.33167V15.6683C18.3333 17.0252 17.2335 18.125 15.8767 18.125H13.7067C12.3498 18.125 11.25 17.0252 11.25 15.6683V4.33167Z' fill='%23CFD0D2'/%3E%3C/svg%3E");
}
.icon-notification::before{
  content: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.60352 16.7549C9.03519 17.2358 9.58936 17.4999 10.1644 17.4999H10.1652C10.7427 17.4999 11.2994 17.2358 11.7319 16.7541C11.9635 16.4983 12.3585 16.4774 12.6144 16.7083C12.871 16.9391 12.8919 17.3349 12.661 17.5908C11.9877 18.3383 11.1019 18.7499 10.1652 18.7499H10.1635C9.22935 18.7491 8.34519 18.3374 7.67436 17.5899C7.44352 17.3341 7.46435 16.9383 7.72102 16.7083C7.97769 16.4766 8.37269 16.4974 8.60352 16.7549ZM10.2059 0.833252C13.91 0.833252 16.3984 3.71825 16.3984 6.41242C16.3984 7.79825 16.7509 8.38575 17.125 9.00908C17.495 9.62408 17.9142 10.3224 17.9142 11.6424C17.6234 15.0149 14.1025 15.2899 10.2059 15.2899C6.30919 15.2899 2.78752 15.0149 2.50001 11.6958C2.49752 10.3224 2.91669 9.62408 3.28669 9.00908L3.41731 8.78921C3.73892 8.23647 4.01336 7.63521 4.01336 6.41242C4.01336 3.71825 6.50169 0.833252 10.2059 0.833252ZM10.2059 2.08325C7.29336 2.08325 5.26336 4.36492 5.26336 6.41242C5.26336 8.14492 4.78252 8.94575 4.35752 9.65242C4.01669 10.2199 3.74752 10.6683 3.74752 11.6424C3.88669 13.2141 4.92419 14.0399 10.2059 14.0399C15.4584 14.0399 16.5284 13.1774 16.6667 11.5883C16.6642 10.6683 16.395 10.2199 16.0542 9.65242C15.6292 8.94575 15.1484 8.14492 15.1484 6.41242C15.1484 4.36492 13.1184 2.08325 10.2059 2.08325Z' fill='%23CFD0D2'/%3E%3C/svg%3E");
}
.bottom-nav-item.active .icon-notification::before{
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M8.30267 16.0232C8.71926 15.9351 11.2578 15.9351 11.6743 16.0232C12.0305 16.1055 12.4156 16.2977 12.4156 16.7173C12.3949 17.1168 12.1605 17.471 11.8367 17.6959C11.4168 18.0233 10.924 18.2306 10.4088 18.3053C10.1239 18.3422 9.84398 18.343 9.56902 18.3053C9.05304 18.2306 8.56025 18.0233 8.14117 17.6951C7.81651 17.471 7.58212 17.1168 7.56142 16.7173C7.56142 16.2977 7.94654 16.1055 8.30267 16.0232ZM10.0377 1.66663C11.7712 1.66663 13.5419 2.48914 14.5937 3.85385C15.2762 4.7326 15.5892 5.6105 15.5892 6.97521V7.33023C15.5892 8.37684 15.8659 8.99373 16.4746 9.70462C16.9359 10.2283 17.0834 10.9006 17.0834 11.63C17.0834 12.3585 16.844 13.0501 16.3645 13.6116C15.7367 14.2847 14.8513 14.7144 13.9477 14.7891C12.6383 14.9007 11.3281 14.9947 10.0004 14.9947C8.67197 14.9947 7.36256 14.9385 6.05315 14.7891C5.14873 14.7144 4.26337 14.2847 3.63641 13.6116C3.15687 13.0501 2.91669 12.3585 2.91669 11.63C2.91669 10.9006 3.06494 10.2283 3.52543 9.70462C4.15322 8.99373 4.41162 8.37684 4.41162 7.33023V6.97521C4.41162 5.57358 4.76113 4.65706 5.48085 3.75984C6.55091 2.45137 8.26615 1.66663 9.96317 1.66663H10.0377Z' fill='white'/%3E%3C/svg%3E");
}
.icon-menu::before{
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.20835 10.8333C8.59919 10.8333 8.75002 11.9833 8.75002 14.375C8.75002 15.5733 8.75002 16.4258 8.24669 17.05C7.66752 17.7691 6.61335 17.9166 5.20835 17.9166C3.80335 17.9166 2.74919 17.7691 2.17002 17.05C1.66669 16.4258 1.66669 15.5741 1.66669 14.3958L2.29169 14.375H1.66669C1.66669 11.9833 1.81752 10.8333 5.20835 10.8333ZM14.375 10.8333C17.7659 10.8333 17.9167 11.9833 17.9167 14.375C17.9167 15.5733 17.9167 16.4258 17.4134 17.05C16.8342 17.7691 15.78 17.9166 14.375 17.9166C12.97 17.9166 11.9159 17.7691 11.3367 17.05C10.8334 16.4258 10.8334 15.5741 10.8334 14.3958L11.4584 14.375H10.8334C10.8334 11.9833 10.9842 10.8333 14.375 10.8333ZM5.38015 12.0837L5.20835 12.0833C3.03421 12.0833 2.92271 12.2393 2.917 14.0642L2.91735 14.7751C2.9213 15.5009 2.94895 16.0252 3.14252 16.2666C3.36335 16.54 4.01919 16.6666 5.20835 16.6666C6.39752 16.6666 7.05335 16.5391 7.27419 16.2658C7.50002 15.985 7.50002 15.3183 7.50002 14.395C7.50002 12.3115 7.50002 12.0935 5.38015 12.0837ZM14.5468 12.0837L14.375 12.0833C12.2009 12.0833 12.0894 12.2393 12.0837 14.0642L12.084 14.7751C12.088 15.5009 12.1156 16.0252 12.3092 16.2666C12.53 16.54 13.1859 16.6666 14.375 16.6666C15.5642 16.6666 16.22 16.5391 16.4409 16.2658C16.6667 15.985 16.6667 15.3183 16.6667 14.395C16.6667 12.3115 16.6667 12.0935 14.5468 12.0837ZM5.20835 1.66663C8.59919 1.66663 8.75002 2.81663 8.75002 5.20829C8.75002 6.40663 8.75002 7.25913 8.24669 7.88329C7.66752 8.60246 6.61335 8.74996 5.20835 8.74996C3.80335 8.74996 2.74919 8.60246 2.17002 7.88329C1.66669 7.25913 1.66669 6.40746 1.66669 5.22913L2.29169 5.20829H1.66669C1.66669 2.81663 1.81752 1.66663 5.20835 1.66663ZM14.375 1.66663C17.7659 1.66663 17.9167 2.81663 17.9167 5.20829C17.9167 6.40663 17.9167 7.25913 17.4134 7.88329C16.8342 8.60246 15.78 8.74996 14.375 8.74996C12.97 8.74996 11.9159 8.60246 11.3367 7.88329C10.8334 7.25913 10.8334 6.40746 10.8334 5.22913L11.4584 5.20829H10.8334C10.8334 2.81663 10.9842 1.66663 14.375 1.66663ZM5.38015 2.917L5.20835 2.91663C3.03421 2.91663 2.92271 3.07264 2.917 4.8975L2.91735 5.60844C2.9213 6.33424 2.94895 6.85853 3.14252 7.09996C3.36335 7.37329 4.01919 7.49996 5.20835 7.49996C6.39752 7.49996 7.05335 7.37246 7.27419 7.09913C7.50002 6.81829 7.50002 6.15163 7.50002 5.22829C7.50002 3.14479 7.50002 2.92681 5.38015 2.917ZM14.5468 2.917L14.375 2.91663C12.2009 2.91663 12.0894 3.07264 12.0837 4.8975L12.084 5.60844C12.088 6.33424 12.1156 6.85853 12.3092 7.09996C12.53 7.37329 13.1859 7.49996 14.375 7.49996C15.5642 7.49996 16.22 7.37246 16.4409 7.09913C16.6667 6.81829 16.6667 6.15163 16.6667 5.22829C16.6667 3.14479 16.6667 2.92681 14.5468 2.917Z' fill='%23CFD0D2'%3E%3C/path%3E%3C/svg%3E");
}
.bottom-nav-item.active .icon-menu::before{
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M6.60002 11.2248C7.77502 11.2248 8.71669 12.1757 8.71669 13.359V16.1998C8.71669 17.3748 7.77502 18.3332 6.60002 18.3332H3.78335C2.61669 18.3332 1.66669 17.3748 1.66669 16.1998V13.359C1.66669 12.1757 2.61669 11.2248 3.78335 11.2248H6.60002ZM16.2168 11.2248C17.3834 11.2248 18.3334 12.1757 18.3334 13.359V16.1998C18.3334 17.3748 17.3834 18.3332 16.2168 18.3332H13.4001C12.2251 18.3332 11.2834 17.3748 11.2834 16.1998V13.359C11.2834 12.1757 12.2251 11.2248 13.4001 11.2248H16.2168ZM6.60002 1.66675C7.77502 1.66675 8.71669 2.62508 8.71669 3.80091V6.64175C8.71669 7.82508 7.77502 8.77508 6.60002 8.77508H3.78335C2.61669 8.77508 1.66669 7.82508 1.66669 6.64175V3.80091C1.66669 2.62508 2.61669 1.66675 3.78335 1.66675H6.60002ZM16.2168 1.66675C17.3834 1.66675 18.3334 2.62508 18.3334 3.80091V6.64175C18.3334 7.82508 17.3834 8.77508 16.2168 8.77508H13.4001C12.2251 8.77508 11.2834 7.82508 11.2834 6.64175V3.80091C11.2834 2.62508 12.2251 1.66675 13.4001 1.66675H16.2168Z' fill='white'/%3E%3C/svg%3E");
}
.icon-search::before{
  content: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.90202 3.125C6.37296 3.125 3.51239 5.98557 3.51239 9.51458C3.51239 13.0437 6.37306 15.905 9.90202 15.905C11.5675 15.905 13.0842 15.2677 14.2215 14.2235C14.2253 14.2196 14.2291 14.2157 14.2329 14.2118C14.2483 14.1964 14.2642 14.1821 14.2806 14.1687C15.5186 13.0032 16.2916 11.3491 16.2916 9.51458C16.2916 5.98557 13.431 3.125 9.90202 3.125ZM15.558 14.6507C16.7905 13.2938 17.5416 11.4919 17.5416 9.51458C17.5416 5.29522 14.1214 1.875 9.90202 1.875C5.68261 1.875 2.26239 5.29522 2.26239 9.51458C2.26239 13.7339 5.68251 17.155 9.90202 17.155C11.6939 17.155 13.3416 16.538 14.6444 15.5049L17.0883 17.9425C17.3327 18.1862 17.7284 18.1857 17.9722 17.9413C18.2159 17.697 18.2154 17.3012 17.971 17.0575L15.558 14.6507ZM10.7209 5.43562C10.8214 5.10537 11.1705 4.91907 11.5007 5.01951C12.8617 5.43338 13.9369 6.49147 14.3736 7.8414C14.4799 8.16982 14.2998 8.52217 13.9714 8.62842C13.6429 8.73467 13.2906 8.55458 13.1844 8.22615C12.8734 7.26519 12.1064 6.51022 11.137 6.21543C10.8068 6.115 10.6205 5.76587 10.7209 5.43562Z' fill='%23CFD0D2'/%3E%3C/svg%3E");
}
.icon-account::before{
  content: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.5635 14.4981C5.85816 15.1371 5.57617 15.9502 5.57617 16.6663C5.57617 17.0116 5.29635 17.2913 4.95117 17.2913C4.60599 17.2913 4.32617 17.0116 4.32617 16.6663C4.32617 15.6252 4.73736 14.4658 5.7242 13.5717C6.71258 12.6761 8.22174 12.0963 10.3335 12.0963C12.4437 12.0963 13.9523 12.6716 14.9409 13.5628C15.9285 14.4531 16.34 15.6093 16.34 16.6512C16.34 16.9964 16.0602 17.2762 15.715 17.2762C15.3698 17.2762 15.09 16.9964 15.09 16.6512C15.09 15.9351 14.8083 15.1263 14.1039 14.4912C13.4005 13.8571 12.2184 13.3463 10.3335 13.3463C8.44925 13.3463 7.26728 13.8604 6.5635 14.4981Z' fill='%23CFD0D2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.3334 3.95837C8.7806 3.95837 7.52118 5.21762 7.52118 6.77143C7.52118 8.32524 8.7806 9.58446 10.3334 9.58446C11.8872 9.58446 13.1465 8.32515 13.1465 6.77143C13.1465 5.21772 11.8872 3.95837 10.3334 3.95837ZM6.27118 6.77143C6.27118 4.52746 8.09008 2.70837 10.3334 2.70837C12.5775 2.70837 14.3965 4.52737 14.3965 6.77143C14.3965 9.01554 12.5775 10.8345 10.3334 10.8345C8.09008 10.8345 6.27118 9.01537 6.27118 6.77143Z' fill='%23CFD0D2'/%3E%3C/svg%3E");
}
/* Drawer divider */
.mobile-drawer-divider {
  height: 1px;
  background: rgba(255,255,255,0.08);
  flex-shrink: 0;
  margin: 0 20px;
  position: relative;
  z-index: 1;
}

/* Drawer menu scroll */
.mobile-drawer-menu {
  flex: 1;
  overflow-y: auto;
  padding: 12px 12px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  position: relative;
  z-index: 1;
  scrollbar-width: thin;
}

/* Nav items inside mobile drawer reuse the sidebar .nav-item structure */
.mobile-drawer-menu .nav-item { height: 48px; }
.mobile-drawer-menu .sidebar-spacer { display: none; }
.mobile-drawer-menu .subscription-card { display: none; }
.mobile-drawer-menu .sidebar-menu-group + .sidebar-menu-group {
  border-top: 1px solid rgba(255,255,255,0.08);
  padding-top: 8px;
  margin-top: 4px;
}

/* Drawer footer: wallet + user */

/* ===================================================
   RESPONSIVE - MOBILE BREAKPOINT
   =================================================== */
@media (max-width: 1023px) {

  .app-layout {
    flex-direction: column;
    padding: calc(var(--mobile-header-h) + 8px) 8px var(--bottom-nav-h);
    gap: 8px;
  }

  .sidebar { display: none; }
  .sidebar-slot { display: none; }

  /* Desktop header: shown on mobile as a fixed app bar (title only) */
  .top-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 450;
    border-radius: 0;
    height: var(--mobile-header-h);
    padding: 0 24px;
    justify-content: center;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
  }
  .top-header .header-left { display: none; }
  .top-header .breadcrumb { display: none; }
  .top-header .header-accent { display: none; }
  .top-header .page-title { font-size: 18px; font-weight: 500; }

  .bottom-nav { display: flex; }
  .mobile-backdrop { display: block; }
  .mobile-drawer { display: flex; }

  /* Sub-drawer: on mobile, slides in as full-width sheet */
  .sub-drawer {
    top: 0;
    right: 0;
    left: auto;
    height: calc(100vh - var(--bottom-nav-h));
    width: 95%;
    border-radius: 8px 0 0 8px;
    transform: translateX(100%);
    z-index: 700;
  }
  .sub-drawer.open {
    transform: translateX(0);
    opacity: 1;
  }

  /* Profile panel: on mobile, slides in as full-screen sheet */
  .mobile-profile-sheet {
    top: 0;
    left: auto;
    right: 0;
    width: 100%;
    max-height: none;
    bottom: var(--bottom-nav-h);
    background: var(--page-bg);
    border-radius: 0;
    box-shadow: none;
    z-index: 550;
    overflow-y: hidden;
    transform: translateX(100%);
  }
  .mobile-profile-sheet.open {
    transform: translateX(0);
    opacity: 1;
  }
  .mobile-profile-appbar { display: flex; }
  .mobile-profile-status-grid { display: grid; }
}

/* ===================================================
   UTILITY
   =================================================== */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  clip: rect(0,0,0,0);
}

/* Sidebar transition when mini mode is toggled dynamically */
/* Note: .sub-drawer is intentionally excluded — it has its own transition including `right` */
.sidebar,
.sidebar * {
  transition-property: transform, opacity, width, max-width, background, color;
  transition-duration: 300ms;
  transition-timing-function: ease-in-out;
}
/* Override for non-animated props */
.sidebar-divider,
.sidebar-pattern,
.sidebar-menu-group { transition: none; }

/* ===================================================
   NOTIFICATION MODAL CONTENT
   Shell animation/overlay/panel handled by modal.css
   =================================================== */

/* Width + body layout overrides */
.modal--notif { --modal-width: 400px; }

.modal--notif .modal__body {
  padding: 0;
  gap: 0;
  overflow: hidden;
  justify-content: flex-start;
}

/* Offset for bottom nav bar (visible below 1024px) */
@media (max-width: 1023px) {
  .modal--notif .modal__container,
  .modal--notif .modal__expanded { bottom: calc(var(--bottom-nav-h) + 8px); }
}

/* Mobile detail panel: dark wrapper + mobile close header */
.notif-detail-hdr-mobile { display: none; }

.modal--notif .modal__expanded-inner {
  gap: 0;
  padding: 0;
}

.notif-detail-body {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

@media (max-width: 767px) {
  /* Overlay only the body area — modal header stays visible above */
  .modal--notif .modal__expanded {
    top: calc(
      8px +                             /* container top margin  */
      var(--modal-container-padding) +  /* 4px inner padding     */
      var(--modal-header-padding) +     /* 24px header pad-top   */
      var(--modal-icon-holder-size) +   /* 54px icon holder      */
      var(--modal-header-padding)       /* 24px header pad-bot   */
    );                                  /* total ≈ 114px         */
    right:  calc(8px + var(--modal-container-padding));  /* 12px */
    left:   calc(8px + var(--modal-container-padding));  /* 12px */
    bottom: calc(var(--bottom-nav-h) + 8px + var(--modal-container-padding)); /* 92px */
    width: auto;
    max-width: none;
  }

  /* White body background — no dark header wrapper */
  .modal--notif .modal__expanded-inner {
    background: var(--modal-body-bg);
    border-radius: var(--modal-radius-body);
    padding: 0;
  }

  /* Main header is visible — hide mobile-only duplicate header */
  .notif-detail-hdr-mobile { display: none; }

  /* Reset detail body (no longer in dark wrapper) */
  .notif-detail-body {
    background: transparent;
    border-radius: 0;
  }
.modal--notif { --modal-width: 100%; }

}

/* Tabs */
.notif-tabs {
  display: flex;
  height: 48px;
  border-bottom: 1px solid var(--stroke);
  flex-shrink: 0;
}
.notif-tab {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 500;
  color: var(--text-2);
  border-bottom: 2px solid transparent;
  cursor: pointer;
  background: none;
  font-family: inherit;
  padding: 0;
  transition: color var(--transition), border-color var(--transition);
}
.notif-tab.active {
  color: var(--brand);
  border-bottom-color: var(--brand);
  font-weight: 600;
}
.notif-tab:hover:not(.active) { color: var(--text-1); }
.notif-tab-count {
  background: var(--brand);
  color: #fff;
  font-size: 11px;
  font-weight: 700;
  border-radius: 10px;
  padding: 1px 6px;
  line-height: 1.4;
}

/* Views */
.notif-views {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  min-height: 0;
}
.notif-view-list {
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  display: flex;
  flex-direction: column;
}
.notif-view-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
  padding: 32px 24px;
  gap: 16px;
}

/* List items */
.notif-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 16px;
}
.notif-item {
  background: var(--page-bg);
  border-radius: 8px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  cursor: pointer;
  transition: background var(--transition);
}
.notif-item-top {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}
.notif-item-icon-wrap {
  position: relative;
  width: 28px;
  height: 28px;
  background: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: #fff;
}
.notif-item-dot {
  position: absolute;
  top: -1px;
  right: -1px;
  width: 6px;
  height: 6px;
  background: var(--cranberry-500);
  border-radius: 50%;
  border: 1.5px solid var(--page-bg);
}
.notif-item-text {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.notif-item-subject { font-size: 13px; font-weight: 600; color: var(--text-1); line-height: 1.5; }
.notif-item-body {
  font-size: 12px;
  color: var(--text-2);
  line-height: 1.6;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.notif-item-divider { height: 1px; background: var(--stroke); }
.notif-item-footer { display: flex; align-items: center; justify-content: space-between; }
.notif-item-time { font-size: 11px; color: var(--text-2); }
.notif-item-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    font-weight: 500;
    color: var(--brand);
    font-family: inherit;
    background: none;
    flex-direction: row-reverse;
    padding: 0;
    cursor: pointer;
    transition: opacity var(--transition);
}
.notif-item-btn:hover { opacity: 0.75; }
.notif-item-btn svg {
  transition: transform var(--transition);
}
.notif-item-btn.is-open svg {
  transform: rotate(180deg);
}

/* Empty state rings */
.notif-empty-rings {
  position: relative;
  width: 127px;
  height: 127px;
  display: grid;
  place-items: center;
}
.notif-empty-rings::before {
  content: '';
  position: absolute;
  inset: 0;
  background: transparent;
  border: 1px solid var(--stroke);
  border-radius: 38px;
  opacity: 0.2;
}
.notif-empty-rings::after {
  content: '';
  position: absolute;
  width: 101px;
  height: 101px;
  background: transparent;
  border: 1px solid var(--stroke);
  border-radius: 30px;
  opacity: 0.5;
}
.notif-empty-ring-inner {
  position: absolute;
  width: 72px;
  height: 72px;
  background: transparent;
  border: 1px solid var(--stroke);
  border-radius: 22px;
}
.notif-empty-icon {
  position: relative;
  z-index: 1;
  color: var(--text-2);
  display: flex;
  align-items: center;
  justify-content: center;
}
.notif-empty-text { font-size: 14px; font-weight: 500; color: var(--text-1); text-align: center; }
.notif-empty-sub { font-size: 12px; color: #a2a4a5; text-align: center; margin-top: -8px; }

/* Detail panel content */
.notif-detail-nav {
  display: flex;
  flex-direction: row-reverse;
  align-items: center;
  padding: 0 16px;
  height: 55px;
  border-bottom: 1px solid var(--stroke);
  flex-shrink: 0;
  justify-content: space-between;
}
.notif-back-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 14px;
  color: var(--text-1);
  font-family: inherit;
  background: none;
  padding: 4px 0;
  cursor: pointer;
  flex-shrink: 0;
  transition: opacity var(--transition);
}
.notif-back-btn:hover { opacity: 0.7; }
.notif-detail-title {
  font-size: 18px;
  font-weight: 500;
  color: var(--text-1);
  text-align: center;
  padding: 0 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.notif-detail-content {
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.notif-detail-img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border: 1px solid var(--stroke);
  border-radius: 8px;
  display: block;
}
.notif-detail-text { font-size: 14px; color: var(--text-2); line-height: 2; }

/* ===================================================
   SEARCH MODAL CONTENT
   Shell animation/overlay/panel handled by modal.css
   =================================================== */

/* Width + body layout overrides */
.modal--search { --modal-width: 701px; }

.modal--search .modal__body {
  overflow: hidden;
  justify-content: flex-start;
  /* padding + gap inherit from modal.css defaults: 24px desktop / 16px mobile */
}

/* Offset for bottom nav bar (visible below 1024px) */
@media (max-width: 1023px) {
  .modal--search .modal__container { bottom: calc(var(--bottom-nav-h) + 8px); }
}

/* Search input */
.search-input-row { flex-shrink: 0; padding-bottom: 16px; }
.search-input-wrap { position: relative; width: 100%; }
.search-input {
  width: 100%;
  height: 45px;
  padding: 0 52px 0 16px;
  background: var(--card-bg);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-btn);
  font-family: inherit;
  font-size: 14px;
  color: var(--text-1);
  direction: rtl;
  text-align: right;
  outline: none;
  transition: border-color 200ms ease, box-shadow 200ms ease;
}
.search-input::placeholder { color: var(--text-2); font-size: 13px; }
.search-input:focus { border-color: var(--brand); box-shadow: 0 0 0 3px rgba(38,168,140,0.12); }
.search-input-sep {
  position: absolute;
  right: 44px; top: 50%;
  transform: translateY(-50%);
  width: 1px; height: 22px;
  background: var(--stroke);
  pointer-events: none;
}
.search-input-icon {
  position: absolute;
  right: 13px; top: 50%;
  transform: translateY(-50%);
  color: var(--text-2);
  pointer-events: none;
  display: flex;
  align-items: center;
}

/* Category section */
.search-filters {
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex-shrink: 0;
}
.search-filters.hidden { display: none; }
.search-cat-label {
  display: flex;
  align-items: center;
  gap: 10px;
}
.search-cat-label-text {
  font-size: 12px;
  color: var(--text-2);
  white-space: nowrap;
  flex-shrink: 0;
}
.search-cat-label-line {
  flex: 1;
  height: 1px;
  background: var(--stroke);
}
.search-cat-btns {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}
.search-cat-btn {
  display: inline-flex;
  align-items: center;
  flex-direction: row-reverse;
  gap: 8px;
  height: 45px;
  padding: 0 16px;
  border-radius: 8px;
  border: 1px solid var(--stroke);
  background: var(--card-bg);
  color: var(--text-1);
  font-family: inherit;
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  flex-shrink: 0;
  cursor: pointer;
  transition: background var(--transition), border-color var(--transition), color var(--transition);
}
.search-cat-btn.search-cat-btn--more{
  flex-direction: row;
}
.search-cat-btn:hover { border-color: var(--brand); color: var(--brand); }
.search-cat-btn.active {
  background: var(--brand-400);
  border-color: var(--brand-600);
  color: #fff;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.15);
}
.search-cat-btn-icon { display: flex; align-items: center; flex-shrink: 0; }
.search-filter-more { position: relative; }
.search-filter-more[hidden] { display: none; }
.search-more-dropdown {
  position: absolute; top: calc(100% + 6px); left: 0;
  background: var(--card-bg); border: 1px solid var(--stroke);
  border-radius: 8px; box-shadow: -2px 2px 5px 0 rgba(23,23,23,0.07);
  min-width: 112px; padding: 8px;
  display: flex; flex-direction: column; gap: 4px;
  z-index: 10;
  opacity: 0; pointer-events: none; transform: translateY(-6px);
  transition: opacity 180ms ease, transform 180ms ease;
}
.search-more-dropdown.open { opacity: 1; pointer-events: all; transform: translateY(0); }
.search-more-item {
    display: flex;
    align-items: center;
    gap: 8px;
    height: 45px;
    padding: 0 16px;
    width: 100%;
    border-radius: 8px;
    border: none;
    font-family: inherit;
    font-size: 14px;
    font-weight: 400;
    color: var(--text-1);
    cursor: pointer;
    justify-content: flex-end;
    background: none;
    transition: background var(--transition), color var(--transition);
    flex-direction: row-reverse;
}
.search-more-item:hover { background: var(--page-bg); }
.search-more-item.active { color: var(--brand); font-weight: 600; }

/* Content area */
.search-content { flex: 1; overflow-y: auto; min-height: 0; display: flex; flex-direction: column; }

/* State: recent */
.search-state-recent { display: flex; flex-direction: column; gap: 20px; }
.search-state-recent.hidden,
.search-state-skeleton.hidden,
.search-state-results.hidden,
.search-state-empty.hidden { display: none; }
.search-section { display: flex; flex-direction: column; gap: 12px; }
.search-section-label { display: flex; align-items: center; gap: 8px; padding: 4px 0; }
.search-section-title { font-size: 13px; color: var(--text-2); white-space: nowrap; flex-shrink: 0; }
.search-section-line { flex: 1; height: 1px; background: var(--stroke); }
.search-chip-row {
    display: flex;
    gap: 12px;
    align-items: center;
    flex-wrap: wrap;
}
.search-chip-row.is-popular { overflow-x: auto; overflow-y: hidden; -webkit-overflow-scrolling: touch; scrollbar-width: none; padding-bottom: 2px; }
.search-chip-row.is-popular::-webkit-scrollbar { display: none; }
.search-chip-row.is-popular .search-chip { flex-shrink: 0; }
.search-chip {
  display: flex; align-items: center; gap: 8px;
  height: 45px; padding: 0 16px;
  background: var(--card-bg); border: 1px solid var(--stroke);
  border-radius: var(--radius-btn); font-family: inherit;
  font-size: 14px; color: var(--text-1); cursor: pointer;
  white-space: nowrap; min-width: 0;
  box-shadow: 0 2px 2px rgba(0,0,0,0.024), inset 0 -2px 4px rgba(223,223,223,0.15);
  transition: background var(--transition), border-color var(--transition), color var(--transition);
}
.search-chip:hover { border-color: var(--brand); color: var(--brand); }
.search-chip:hover .search-chip-icon { color: var(--brand); }
.search-chip-text { flex: 1; text-align: right; }
.search-chip-icon { flex-shrink: 0; display: flex; align-items: center; color: var(--text-2); transition: color var(--transition); }

/* State: skeleton */
.search-state-skeleton { display: flex; flex-direction: column; gap: 24px; }
.search-skel-section { display: flex; flex-direction: column; align-items: flex-start; gap: 16px; }
.search-skel-label { width: 109px; height: 14px; border-radius: 24px; background: var(--stroke); animation: skel-pulse 1.5s ease-in-out infinite; }
/* Filter pills */
.search-skel-pills { display: flex; gap: 16px; align-items: center; }
.search-skel-pill { display: flex; align-items: center; justify-content: center; gap: 8px; width: 113px; height: 45px; border-radius: 8px; background: var(--page-bg); flex-shrink: 0; animation: skel-pulse 1.5s ease-in-out infinite; }
.search-skel-pill-dot { width: 20px; height: 20px; border-radius: 50%; background: var(--stroke); flex-shrink: 0; }
.search-skel-pill-bar { height: 14px; width: 58px; border-radius: 24px; background: var(--stroke); }
.search-skel-pill--active { background: var(--stroke); }
.search-skel-pill--active .search-skel-pill-dot { background: var(--card-bg); }
.search-skel-pill--active .search-skel-pill-bar { background: var(--card-bg); }
/* Result rows */
.search-skel-row { display: flex; align-items: center; gap: 11px; background: var(--page-bg); padding: 16px; border-radius: 8px; width: 100%; }
.search-skel-circle { width: 20px; height: 20px; border-radius: 50%; background: var(--stroke); flex-shrink: 0; animation: skel-pulse 1.5s ease-in-out infinite; }
.search-skel-bar { flex: 1; max-width: 325px; height: 14px; border-radius: 24px; background: var(--stroke); animation: skel-pulse 1.5s ease-in-out infinite; }
@keyframes skel-pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

/* State: results */
.search-state-results { display: flex; flex-direction: column; }
.search-group { display: flex; flex-direction: column; }
/* Group header: [category name] [count badge] [divider line] */
.search-group-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 0 8px;
}
.search-group-name {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-1);
  white-space: nowrap;
  flex-shrink: 0;
}
.search-group-count {
  flex-shrink: 0;
  min-width: 17px;
  height: 17px;
  padding: 0 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  color: var(--text-2);
  background: var(--page-bg);
  border: 1px solid var(--stroke);
  border-radius: 4px;
}
.search-group-line {
  flex: 1;
  height: 1px;
  background: var(--stroke);
}
/* Result items */
.search-result-item {
  display: flex;
  align-items: stretch;
  background: var(--page-bg);
  border-radius: 8px;
  cursor: pointer;
  overflow: hidden;
  transition: opacity var(--transition);
}
.search-result-item + .search-result-item { margin-top: 4px; }
.search-result-item:hover { opacity: 0.8; }
.search-result-icon-holder {
  width: 70px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-left: 4px solid #fff;
  color: var(--text-2);
}
.search-result-content {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 20px 16px;
  min-width: 0;
}
.search-result-name {
  font-size: 16px;
  font-weight: 500;
  color: var(--text-1);
  flex-shrink: 0;
}
.search-result-name mark { background: var(--brand-light); color: var(--brand); border-radius: 2px; }
.search-result-sep {
  color: var(--text-2);
  font-size: 14px;
  flex-shrink: 0;
}
.search-result-breadcrumb {
  font-size: 13px;
  color: var(--text-2);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.search-result-chevron {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  padding: 0 20px;
  color: var(--text-2);
}

/* State: empty — dashed container with concentric rings + icon */
.search-state-empty {
  flex: 1;
  min-height: 0;
  border: 1px dashed #dddfe1;
  border-radius: var(--radius-card);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 24px;
}

/* Concentric rings (border-only, stacked via CSS grid) */
.search-empty-rings {
  position: relative;
  width: 127px;
  height: 127px;
  display: grid;
  place-items: center;
  flex-shrink: 0;
}
.search-empty-rings::before {
  content: '';
  position: absolute;
  inset: 0;
  border: 1px solid #dddfe1;
  border-radius: 38px;
  opacity: 0.2;
}
.search-empty-rings::after {
  content: '';
  position: absolute;
  width: 101px;
  height: 101px;
  border: 1px solid #dddfe1;
  border-radius: 30px;
  opacity: 0.5;
}
.search-empty-ring-inner {
  position: absolute;
  width: 72px;
  height: 72px;
  border: 1px solid #dddfe1;
  border-radius: 22px;
}
.search-empty-icon-wrap {
  position: relative;
  z-index: 1;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-2);
}
.search-empty-title {
  font-size: 16px;
  font-weight: 500;
  color: var(--text-1);
  text-align: center;
}
.search-empty-desc {
  font-size: 14px;
  color: #a2a4a5;
  line-height: 2;
  text-align: center;
  max-width: 358px;
}

/* Mobile search overrides */
@media (max-width: 767px) {
  .search-input-row { padding-bottom: 0; }
  /* Category buttons: scrollable row, no wrapping */
  .search-cat-btns { flex-wrap: nowrap; overflow-x: auto; overflow-y: hidden; -webkit-overflow-scrolling: touch; scrollbar-width: none; padding-bottom: 2px; }
  .search-cat-btns::-webkit-scrollbar { display: none; }
  .search-filter-more { display: none; }
  /* Recent chips */
  .search-chip-row.is-recent { overflow-x: auto; overflow-y: hidden; -webkit-overflow-scrolling: touch; scrollbar-width: none;flex-wrap: nowrap; }
  .search-chip-row.is-recent::-webkit-scrollbar { display: none; }
  .search-chip-row.is-recent .search-chip { flex: 0 0 auto; min-width: 100px; }
  /* Result items: hide icon holder, stack content vertically */
  .search-result-icon-holder { display: none; }
  .search-result-item { min-height: 77px; }
  .search-result-content { flex-direction: column; align-items: flex-start; gap: 4px; padding: 16px 12px; }
  .search-result-name { font-size: 14px; white-space: normal; }
  .search-result-sep { display: none; }
  .search-result-breadcrumb { font-size: 12px; color: #59595a; }
  .search-result-chevron { padding: 0 12px; }
  /* Empty state */
  .search-empty-title { font-size: 14px; font-weight: 400; }
  .search-empty-desc { font-size: 12px; max-width: 257px; }
  .search-chip-row {
    flex-wrap: nowrap;
  }
}

